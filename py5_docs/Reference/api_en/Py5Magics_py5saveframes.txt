@@ meta
name = %py5saveframes
type = line magic
category = magics
subcategory = line magics

@@ arguments
'dirname', type=str
directory to save the frames

'-f', '--filename', type=str, dest='filename', default='frame_####.png'
filename to save frames to

'-w', '--wait', dest='wait', type=float, default=0.0
wait time in seconds before starting to save frames

'-p', '--period', dest='period', type=float, default=0.0
time in seconds between Sketch snapshots (default 0 means no delay)

'-s', '--start', dest='start', type=int
frame starting number instead of sketch frame_count

'-l', '--limit', type=int, dest='limit', default=0
limit the number of frames to save (default 0 means no limit)

@@ description
Save the current running sketch's frames to a directory.

Use the ``-w`` argument to wait before starting.

If a limit is given, this line magic will wait to return a list of the filenames. Otherwise, it will return right away as the frames are saved in the background. It will keep doing so as long as the sketch continues to run.

@@ example
py5.run_sketch()
# save the next 50 frames to the `/tmp/frames` directory
%py5saveframes /tmp/frames -w 3 -s 0 --limit 50
